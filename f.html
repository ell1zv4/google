<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Iframe de HDTodayTV</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #f8f9fa;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
    <script>
        // Crear una función para bloquear redirecciones
        function blockRedirections() {
            const iframe = document.getElementById('contentFrame');
            const allowedDomain = 'hdtodaytv.fun';

            // Bloquear la apertura de nuevas ventanas
            window.open = function() {
                alert('Apertura de nuevas ventanas está bloqueada.');
                return null;
            };

            // Interceptar redirecciones en window.location
            const originalLocationAssign = iframe.contentWindow.location.assign;
            iframe.contentWindow.location.assign = function(url) {
                if (!url.includes(allowedDomain)) {
                    alert('Redirección bloqueada: solo se permiten enlaces dentro del dominio permitido.');
                } else {
                    originalLocationAssign.call(iframe.contentWindow.location, url);
                }
            };

            const originalLocationReplace = iframe.contentWindow.location.replace;
            iframe.contentWindow.location.replace = function(url) {
                if (!url.includes(allowedDomain)) {
                    alert('Redirección bloqueada: solo se permiten enlaces dentro del dominio permitido.');
                } else {
                    originalLocationReplace.call(iframe.contentWindow.location, url);
                }
            };

            // Bloquear el uso de history.pushState y history.replaceState
            const originalPushState = iframe.contentWindow.history.pushState;
            iframe.contentWindow.history.pushState = function(state, title, url) {
                if (!url.includes(allowedDomain)) {
                    alert('Redirección bloqueada: solo se permiten enlaces dentro del dominio permitido.');
                } else {
                    originalPushState.call(iframe.contentWindow.history, state, title, url);
                }
            };

            const originalReplaceState = iframe.contentWindow.history.replaceState;
            iframe.contentWindow.history.replaceState = function(state, title, url) {
                if (!url.includes(allowedDomain)) {
                    alert('Redirección bloqueada: solo se permiten enlaces dentro del dominio permitido.');
                } else {
                    originalReplaceState.call(iframe.contentWindow.history, state, title, url);
                }
            };

            // Bloquear eventos de clic en enlaces
            iframe.contentWindow.document.addEventListener('click', function(event) {
                const target = event.target.closest('a');
                if (target) {
                    const targetUrl = target.href;
                    if (!targetUrl.includes(allowedDomain)) {
                        event.preventDefault();
                        alert('Redirección bloqueada: solo se permiten enlaces dentro del dominio permitido.');
                    }
                }
            });
        }

        window.onload = function() {
            const iframe = document.getElementById('contentFrame');

            // Bloquear redirecciones una vez que el iframe se haya cargado
            iframe.onload = function() {
                blockRedirections();
            };
        };
    </script>
</head>
<body>
    <iframe id="contentFrame" src="https://ww3.hdtodaytv.fun" sandbox="allow-same-origin allow-scripts" allowfullscreen></iframe>
</body>
</html>
